<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh_cn" lang="zh_cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>
    <title>simplest_as3_rtmp_streamer</title>
</head>
<body>
<object>
    <embed id="rtmp-streamer" src="RtmpStreamer.swf" bgcolor="#999999" quality="high"
           width="600" height="260" allowScriptAccess="sameDomain" type="application/x-shockwave-flash"></embed>
</object>

<br>
<input id="url" type="text" style="width: 400px;" value="rtmp://192.168.33.1:1935/live" title="url">
<input id="stream-name" type="text" style="width: 150px;" value="myStream" title="stream-name">
<button onclick="load()"> connect</button>

</body>

<script lang="javascript">
    var isReady = false;

    function setSWFIsReady() {
        console.log('swf is ready!');
        isReady = true;
    }

    function load() {
        if (isReady) {
            var streamer = document.getElementById('rtmp-streamer');
            var url = document.getElementById('url').value;
            var name = document.getElementById('stream-name').value;
            streamer.publish(url, name);
            streamer.playVideo(url, name);
        } else {
            alert('swf is not ready for now!');
        }
    }

</script>


</html>
